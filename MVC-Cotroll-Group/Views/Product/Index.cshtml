@model IEnumerable<MVC_Cotroll_Group.Models.Product>

@{
    ViewData["Title"] = "Products";
    var categoryName = ViewBag.CategoryName ?? "Unknown Category";
}

<div class="max-w-5xl mx-auto mt-10">
    <div class="flex justify-between items-center mb-6">
        @if (ViewData["SeacrchCategory"] != null)
        {
            <h1 class="text-3xl font-bold">
                Products in category: <span class="text-blue-600">@ViewData["SeacrchCategory"]</span>
            </h1>
        }

        <a href="@Url.Action("Create", "Product")"
           class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition">
           Add Product
        </a>
    </div>

    <table class="w-full border-collapse shadow-lg rounded-lg overflow-hidden">
        <thead class="bg-gray-100 text-left">
            <tr>
                <th class="p-3 border-b">Name</th>
                <th class="p-3 border-b">Price</th>
                <th class="p-3 border-b">Rating</th>
                <th class="p-3 border-b text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null && Model.Any())
            {
                @foreach (var product in Model)
                {
                    <tr class="hover:bg-gray-50 transition">
                        <td class="p-3 border-b text-blue-600 hover:underline">
                            <a href="@Url.Action("Details", "Product", new { id = product.Id })">@product.Name</a>
                        </td>
                        <td class="p-3 border-b font-semibold">$@product.Price</td>
                        <td class="p-3 border-b text-yellow-500">⭐ @product.Rating / 5</td>
                        <td class="p-3 border-b text-center space-x-2">
                            <a href="@Url.Action("Edit", "Product", new { id = product.Id })" class="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 transition">
                                Edit
                            </a>
                            <a href="@Url.Action("Delete", "Product", new { id = product.Id })" class="bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition">
                                Delete
                            </a>
                        </td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td colspan="4" class="p-4 text-center text-gray-500">No products found in this category.</td>
                </tr>
            }
        </tbody>
    </table>
</div>